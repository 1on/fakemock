language: php
sudo: false

jobs:
  include:
    - php: '7.1'
    - php: '7.2'
#    - php: '7.2'
#      env: deps=low
  fast_finish: true

before_install:
  - phpenv config-rm xdebug.ini || echo "xdebug not available"
  - export PATH="$PATH:$HOME/.composer/vendor/bin"

install:
#  - if [[ $deps = 'low' ]]; then
#      composer update --prefer-dist --no-progress --no-suggest --prefer-stable --prefer-lowest --ansi;
#    else
      - composer update --prefer-dist --no-progress --no-suggest --ansi;
      - composer suggests | xargs -i composer require {}
  #fi

script:
  - vendor/bin/phpunit
